const attenteBtn = document.getElementById('attenteBtn')
const tousBtn = document.getElementById('tousBtn')
const attenteTab = document.getElementById('attenteTab')
const tousTab = document.getElementById('tousTab')
const deposerNextBtn = document.getElementById('deposerNextBtn')
const ajouterNextBtn = document.querySelectorAll('.ajouterNextBtn')
const accountPrevBtn = document.getElementById('accountPrevBtn')
const maxiBtn = document.getElementById('maxiBtn')
const deposer = 'deposer'
const formBtn = document.getElementById('formBtn')
const ajouter = 'ajouter'
const ajouterPrevBtn = document.getElementById('ajouterPrevBtn')
const profilePublicationsBtn = document.getElementById('profilePublicationsBtn')
const publicationsFavorisBtn = document.getElementById('publicationsFavorisBtn')
const ajouterCompeteForm = document.getElementById('ajouterCompeteForm')
const profileFavorisPage = document.getElementById('profileFavorisPage')
const profilePublicationsPage = document.getElementById('profilePublicationsPage')
const btnNums = document.querySelectorAll('.btn-num')
const perInf = document.getElementById('perInf')
const card = document.getElementById('card')
const deposerBtn = document.getElementById('deposerBtn')
const retirerBtn = document.getElementById('retirerBtn')
const profileDropdown = document.getElementById('profileDropdown')
const ajouterCompeteNextBtn = document.getElementById('ajouterCompeteNextBtn')
const ajouterCompete = 'ajouterCompete'
const rewardPage = 'rewardPage'
const accountCreateNextBtn = document.getElementById('accountCreateNextBtn')
const accountCreate = 'accountCreate'
const rewardNextBtn = document.getElementById('rewardNextBtn')
const ajouterCompetePrevBtn = document.getElementById('ajouterCompetePrevBtn')
const profileMenu = document.getElementById('profileMenu')
const profileCloseBtn = document.getElementById('profileCloseBtn')
const searchInput = document.getElementById('searchValue')
const orderNextBtn = document.getElementById('orderNextBtn')
const connection = 'connection'
const connectionNextBtn = document.getElementById('connectionNextBtn')
const connectionPrevBtn = document.getElementById('connectionPrevBtn')
const rewardCloseBtn = document.getElementById('rewardCloseBtn')
const orderPrevBtn = document.getElementById('orderPrevBtn')
const searchForms = document.querySelectorAll('.searchForm')
const addSmthBtn = document.querySelectorAll('.addSmthBtn')
const profileNextBtn = document.getElementById('profileNextBtn')
const singleLessonNextPageBtn = document.getElementById('singleLessonNextPageBtn')
const intrClose = document.getElementById('intrClose')
const closedPage = document.getElementById('closedPage')
const publicationsBtn = document.getElementById('publicationsBtn')
const newsBtn = document.getElementById('newsBtn')
const parametrNextBtn = document.getElementById('parametrNextBtn')
const historyNextBtn = document.getElementById('historyNextBtn')
const history = 'history'
const order = 'order'
const settings = 'settings'
const chatBtnStyled = 'chatBtn'
const publicationsPage = document.getElementById('publications')
const newsPage = document.getElementById('news')
const academyNextPageBtn = document.getElementById('academyNextPageBtn')
const tradeBtn = document.getElementById('tradeBtn')
const lockBtns = document.querySelectorAll('.lockBtn')
const postBtn = document.getElementById('post')
const chatBtn = document.getElementById('chatBtn')
const searchBtn = document.getElementById('searchBtn')
const mainWrapper = document.getElementById('main-wrapper')
const videoTime = document.getElementById('videoTime')
const videoTime2 = document.getElementById('videoTime2')
const dollarBtn = document.getElementById('dollarBtn')
const dollarPage = document.getElementById('dollarPage')
const emailbtn = document.getElementById('emailbtn')
const emailpage = document.getElementById('emailpage')
const lessonNextBtn = document.getElementById('lessonNextBtn')
const closeBtn = document.getElementById('close')
const postInput = document.getElementById('postInput')
const postParent = document.getElementById('postParent')
const postBtnNext = document.getElementById('enterPost')
const postForm = document.getElementById('postForm')
const commentBtns = document.querySelectorAll('.commentBtn')
const playVideo = document.getElementById('playVideo')
const commentPage = 'commentPage'
const video2 = document.getElementById('video2')
const playVideo2 = document.getElementById('playVideo2')
const video = document.querySelector('video')
const chatNextBtns = document.querySelectorAll('.contact')
const conversation = 'conversation'
const lesson2PrevBtn = document.getElementById('lesson2PrevBtn')
const singleLessonNextBtn = document.getElementById('singleLessonNextBtn')
const commentCloseBtn = document.getElementById('commentCloseBtn')
const dropdownBtn = document.getElementById('dropdownBtn')
const reloadBtn = document.getElementById('reloadBtn')
const loader = 'loader'
const commentDropdown = document.getElementById('commentDropdown')
const searchOthers = document.getElementById('searchOthers')
const notificationNextBtn = document.getElementById('notificationNextBtn')
const commentSearchInput = document.getElementById('commentSearch')
const chatForm = document.getElementById('chatFrom')
const commentForm = document.getElementById('commentForm')
const commentSearchValue = document.getElementById('commentSearch')
const ActiveInput = document.activeElement
const videoPlayBtn = document.getElementById('videoPlayBtn')
const conversationPrevBtn = document.getElementById('conversationPrevBtn')
const singleLessonPrevPageBtn = document.getElementById('singleLessonPrevPageBtn')
const singleNextLesson = document.getElementById('singleNextLesson')
const groupesPage = document.getElementById('groupesPage')
const tradeClearBtn = document.getElementById('trade-clear-btn')
const messadgeSite = document.getElementById('messadgeSite')
const groupesBtn = document.getElementById('groupesBtn')
const amisBtn = document.getElementById('amisBtn')
const amisPage = document.getElementById('amisPage')
const lessonPrevBtns = document.querySelectorAll('.lessonPrevBtn')
const lessonCards = document.querySelectorAll('.lessonCard')
const lessonPagePrev = document.getElementById('lessonPagePrev')
const academyMenuBtn = document.getElementById('menu')
const likeBtns = document.querySelectorAll('.like')
const rechercherInput = document.getElementById('rechercherValue')
const rechercherCloseBtn = document.getElementById('rechercherCloseBtn')
const notificationCloseBtn = document.getElementById('notificationCloseBtn')
const postCloseBtn = document.getElementById('close')
const academyNextBtn = document.getElementById('mainNextBtn')
const pagesBtn = document.querySelectorAll('.pagesBtn')
const rechercherPage = 'rechercher'
const FEED_PAGE = 'feedPage'
const notification = 'notification'
const chat = 'chat'
const Inf_page = 'personalInformation'
const PORTFOLIO = 'portfolio'
const PROFIL_PAGE = 'profil'
const USER_PROFILE_PAGE = 'userProfile'
const postPage = 'postPage'
const abonentsPage = 'abonents'
const ACADEMY_PAGE = 'academy'
const headerCloseBtn = document.getElementById('headerCloseBtn')
const lessonPage = 'lessonPage'
const singleLessonPage = 'singleLesson'
const singleLesson2 = 'singleLesson2'
const closedDiv = document.getElementById('closedDiv')
const closeBtn2 = document.getElementById('closeBtn2')
const personalInfBtn = document.getElementById('personalInfBtn')
const portfolioBtn = document.getElementById('portfolioBtn')
const feedBtn = document.getElementById('feedBtn')
const feddBtnStyled = 'feedBtn'
const portfolioBtnStyled = 'portfolioBtn'
const academyBtnStyled = 'academyBtn'
const profilBtnStyled = 'profilBtn'
const profilBtn = document.getElementById('profilBtn')
const navbarText = document.getElementById('navbarText')
const abonentNextBtn = document.querySelectorAll('.abonentNextBtn')
const abonentPrevBtn = document.getElementById('abonentPrevBtn')
const rechercherPrevBtn = document.getElementById('rechercherPrev')
const navbar = document.getElementById('navbar')
const footer = document.getElementById('footer')
const user = document.getElementById('user')
const fontResultBtn = document.getElementById('fontResultBtn')
const switchBtn = document.getElementById('switchBtn')
const fondBtn = document.getElementById('fondBtn')
const appleBtn = document.getElementById('appleBtn')
const followBtns = document.querySelectorAll('.follow')
const defaultMarginTop = document.getElementById('defaultMarginTop')
const personalPrevBtn = document.getElementById('personalPrevBtn')
const academyBtn = document.getElementById('academyBtn')
const upScroll = document.getElementById('upScroll')
const userProfileBtns = document.querySelectorAll('.userProfile')
const tradeTabsBtns = document.querySelectorAll('.tradeTabsBtn')
const supportChatNextBtn = document.getElementById('supportChatNextBtn')
const supportChat = 'supportChat'
const supportChatCloseBtn = document.getElementById('supportChatCloseBtn')
const tradeProposBtn = document.getElementById('tradeProposBtn')
const tradeNewsBtn = document.getElementById('tradeNewsBtn')
const tradeAttenteBtn = document.getElementById('tradeAttenteBtn')
const tradeAddLiked = document.getElementById('tradeAddLiked')
const fixedBtn = document.getElementById('fixedBtn')
const tradePageNextBtn = document.getElementById('tradePageNextBtn')
const tradeAttentePage = 'tradeAttentePage'
const tradeNewsPage = 'tradeNewsPage'
const tradeProposPage = 'tradeProposPage'
const tradeMainPage = 'tradeMainPage'
const sellAsset = 'sellAsset'
const trandingPage = 'trandingPage'
const sellAsset2 = 'sellAsset2'
const tradeCategoryPage = 'tradeCategoryPage'
const tradeNextBtn = document.getElementById('tradeNextBtn')
const fixedFooter = document.getElementById('fixedFooter')
const sellAssetNextBtn = document.getElementById('sellAssetNextBtn')
const tradingPrevBtn = document.getElementById('tradingPrevBtn')
const sellAsset2PrevBtn = document.getElementById('sellAsset2PrevBtn')
const pages = document.getElementsByClassName('ss-page')
const supportNextBtn = document.getElementById('supportNextBtn')
const support = 'support'
const supportCloseBtn = document.getElementById('supportCloseBtn')
const sellSelectBtn = document.querySelectorAll('.sellSelectBtn')
const sellPrevBtn = document.getElementById('sellPrevBtn')
const sellAsset2NextBtn = document.getElementById('sellAsset2NextBtn')
const tradeBtnStyled = 'tradeBtn'
const supportChatFrom = document.getElementById('supportChatFrom')
const messagesSite = document.getElementById('messagesSite')



// FOOTER

function showPageBtn(pageBtn) {
    hidePageBtns()
    showPagesBtn(pageBtn)
}

function hidePageBtns() {
    Array.from(pagesBtn).forEach(element => {
        element.classList.add('text-gray-400')
        element.classList.remove('text-blue-normal')
    });
}

function showPagesBtn(pageBtnId) {
    const currPage = document.getElementById(pageBtnId);
    currPage.classList.add('text-blue-normal');
    currPage.classList.remove('text-gray-400')
}

// FOOTER

// PAGES
function changePage(page) {
    hidePages();
    showPage(page)
}

function hidePages() {
    const pages = document.querySelectorAll('.ss-page');
    Array.from(pages).forEach(element => {
        element.classList.add('hidden')
    });
}

function showPage(pageId) {
    const currPage = document.getElementById(pageId);
    currPage.classList.remove('hidden');
}
// PAGES

// PROFIL PAGE
profilBtn.addEventListener('click', () => {
    changePage(PROFIL_PAGE)
    showPageBtn(profilBtnStyled)
    navbar.classList.remove('hidden')
    navbarText.innerText = 'Profil'
    footer.classList.remove('hidden')
})
personalInfBtn.addEventListener('click', () => {
    changePage(Inf_page)
    footer.classList.add('hidden')
    footer.classList.remove('hidden')
    navbar.classList.add('hidden')
})

personalPrevBtn.addEventListener('click', () => {
    changePage(PROFIL_PAGE)
    showPageBtn(profilBtnStyled)
    footer.classList.remove('hidden')
    footer.classList.remove('hidden')
    navbar.classList.remove('hidden')
})
const toggleDropdown = () => {
    profileDropdown.classList.toggle('hidden')
}

profileMenu.addEventListener('click', () => toggleDropdown())
profileCloseBtn.addEventListener('click', () => {
    profileDropdown.classList.add('hidden')
})

abonentNextBtn.forEach(element => {
    element.addEventListener('click', () => {
        changePage(abonentsPage)
        footer.classList.remove('hidden')
        navbar.classList.add('hidden')
    })
})

abonentPrevBtn.addEventListener('click', () => {
    changePage(PROFIL_PAGE)
    showPageBtn(profilBtnStyled)
    footer.classList.remove('hidden')
    navbar.classList.remove('hidden')
});
profilePublicationsBtn.addEventListener('click', () => {
    profilePublicationsBtn.className = 'font-bold w-1/2 px-4 py-2 rounded-full bg-blue-normal text-white'
    publicationsFavorisBtn.className = 'font-bold w-1/2 text-gray-500 px-4 py-2 rounded-full'
    profilePublicationsPage.classList.remove('hidden')
    profileFavorisPage.classList.add('hidden')
})
publicationsFavorisBtn.addEventListener('click', () => {
    publicationsFavorisBtn.className = 'font-bold w-1/2 px-4 py-2 rounded-full bg-blue-normal text-white'
    profilePublicationsBtn.className = 'font-bold w-1/2 text-gray-500 px-4 py-2 rounded-full'
    profilePublicationsPage.classList.add('hidden')
    profileFavorisPage.classList.remove('hidden')
})

// PROFIL PAGE

// FEED PAGE

searchForms.forEach(searchForm => {
    searchForm.addEventListener('submit', (e) => {
        e.preventDefault()
        const searchInputValue = searchForm.children[1].value;
        searchInputValue.value = ''
    })
})
publicationsBtn.addEventListener('click', () => {
    publicationsPage.classList.remove('hidden')
    newsPage.classList.add('hidden')
    publicationsBtn.classList.add('bg-normal', 'text-white')
    newsBtn.classList.remove('bg-normal', 'text-white')
    publicationsBtn.classList.remove('text-gray-500')
})
newsBtn.addEventListener('click', () => {
    newsPage.classList.remove('hidden')
    publicationsPage.classList.add('hidden')
    publicationsBtn.classList.remove('bg-normal', 'bg-blue-normal', 'text-white')
    newsBtn.classList.add('bg-normal', 'text-white')
    publicationsBtn.classList.add('text-gray-500')
    newsBtn.classList.remove('text-gray-500')
})
postBtnNext.addEventListener('click', () => {
    if (postInput.value != '') {
        changePage(FEED_PAGE)
        showPageBtn(feddBtnStyled)
        footer.classList.remove('hidden')
        footer.classList.remove('hidden')
        navbar.classList.remove('hidden')
        mainWrapper.classList.remove('hidden')
        const newPost = document.createElement('div')
        const postValue = postInput.value
        newPost.className = 'bg-white mt-4 p-4 rounded-2xl'
        newPost.innerHTML = `<div class="flex items-center ">
            <img src="./../../assets/feed/hassan.png " alt=" ">
            <div class="ml-4 ">
                <h3 class="font-semibold ">Clark Hassan</h3>
                <p class="text-gray-400 text-xs ">24s ago</p>
            </div>
        </div>
        <p class="font-normal mt-4 text-gray-600 text-sm ">${postValue}</p>
        <div class="flex items-center justify-between w-60 mt-4 ">
            <div class="flex items-center cursor-pointer ">
                <img src="./../../assets/feed/heart (1) 1.png ">
                <p class="ml-2 text-gray-400 text-xs ">Like</p>
            </div>
            <div class="flex items-center cursor-pointer ">
                <img src="./../../assets/feed/message 1.png ">
                <p class="ml-2 text-gray-400 text-xs commentBtn">Comment</p>
            </div>
    </div>`
        postParent.appendChild(newPost)
        postInput.value = ''
    }
})
commentBtns.forEach(commentBtn => {
    commentBtn.addEventListener('click', () => {
        changePage(commentPage)
        footer.classList.remove('hidden')
        navbar.classList.add('hidden')
        footer.classList.add('hidden')
    })
})
commentCloseBtn.addEventListener('click', () => {
    changePage(FEED_PAGE)
    showPageBtn(feddBtnStyled)
    footer.classList.remove('hidden')
    navbar.classList.remove('hidden')
    footer.classList.remove('hidden')
})
commentSearchInput.addEventListener('keyup', () => {
    if (commentSearchInput.value != '') {
        commentForm.classList.add('w-80')
        commentSearchInput.classList.add('w-72')
        searchOthers.classList.add('hidden')
        dropdownBtn.classList.remove('hidden')
    } else {
        commentForm.classList.remove('w-80')
        commentSearchInput.classList.remove('w-72')
        dropdownBtn.classList.add('hidden')
        searchOthers.classList.remove('hidden')
        commentDropdown.classList.add('hidden')
    }
})
dropdownBtn.addEventListener('click', () => {
    if (dropdownBtn.style.transform == 'rotate(45deg)') {
        dropdownBtn.setAttribute('style', 'transform:rotate(90deg);transition:0.2s ease-in;')
        commentDropdown.classList.add('hidden')
    } else {
        dropdownBtn.setAttribute('style', 'transform:rotate(45deg);transition :0.2s ease-in;')
        commentDropdown.classList.remove('hidden')
    }
})
likeBtns.forEach(likeBtn => {
    likeBtn.addEventListener('click', () => {
        likeBtn.classList.toggle('text-blue-500')
    })
})
profileCloseBtn.addEventListener('click', () => {
    profileDropdown.classList.add('hidden')
    mainWrapper.style.opacity = '1'
    document.body.setAttribute('style', 'overflow:auto;bacground:transparent;')
})

followBtns.forEach(followBtn => {
    followBtn.addEventListener('click', () => {
        if (followBtn.innerText == 'Se désabonner') {
            followBtn.innerText = 'S’abonner'
        } else {
            followBtn.innerText = 'Se désabonner'
        }
    })
})
postBtn.addEventListener('click', () => {
    changePage(postPage)
    footer.classList.remove('hidden')
    navbar.classList.add('hidden')
    footer.classList.add('hidden')
})
feedBtn.addEventListener('click', () => {
    changePage(FEED_PAGE)
    showPageBtn(feddBtnStyled)
    footer.classList.remove('hidden')
    navbar.classList.remove('hidden')
    navbarText.innerText = 'Feed'
})
postCloseBtn.addEventListener('click', () => {
    changePage(FEED_PAGE)
    showPageBtn(feddBtnStyled)
    footer.classList.remove('hidden')
    navbar.classList.remove('hidden')
    footer.classList.remove('hidden')
})

searchBtn.addEventListener('click', () => {
    if (!searchBtn.classList.contains('text-blue-normal')) {
        searchBtn.classList.add('text-blue-normal')
        changePage(rechercherPage)
        navbarText.innerText = 'Rechercher'
    } else {
        searchBtn.classList.remove('text-blue-normal')
        changePage(FEED_PAGE)
        navbarText.innerText = 'Feed'
        showPageBtn(feddBtnStyled)
    }
})

notificationNextBtn.addEventListener('click', () => {
    changePage(notification)
    profileDropdown.classList.add('hidden')
    navbar.classList.add('hidden')
    footer.classList.add('hidden')
})

notificationCloseBtn.addEventListener('click', () => {
    changePage(FEED_PAGE)
    showPageBtn(feddBtnStyled)
    navbar.classList.remove('hidden')
    footer.classList.remove('hidden')
})

// FEED PAGE

// PORTFOLIO PAGE 
portfolioBtn.addEventListener('click', () => {
    changePage(PORTFOLIO)
    changeScrollPage()
    showPageBtn(portfolioBtnStyled)
    footer.classList.remove('hidden')
    navbar.classList.remove('hidden')
    navbarText.innerText = 'Portefeuille'
})
attenteBtn.addEventListener('click', () => {
    attenteTab.classList.remove('hidden')
    tousTab.classList.add('hidden')
    tousBtn.classList.remove('bg-blue-normal', 'text-white')
    tousBtn.classList.add('text-gray-600')
    attenteBtn.classList.add('bg-blue-normal', 'text-white')
    attenteBtn.classList.remove('text-gray-600')
})
tousBtn.addEventListener('click', () => {
    attenteTab.classList.add('hidden')
    tousTab.classList.remove('hidden')
    attenteBtn.classList.remove('bg-blue-normal', 'text-white')
    attenteBtn.classList.add('text-gray-600')
    tousBtn.classList.add('bg-blue-normal', 'text-white')
    tousBtn.classList.remove('text-gray-600')
});

function changeScrollPage() {
    const top = defaultMarginTop.getBoundingClientRect().top + defaultMarginTop.offsetHeight
    const maxHeight = window.innerHeight - top
    upScroll.style.maxHeight = maxHeight + 'px'
    upScroll.style.minHeight = maxHeight + 'px'
}
window.onscroll = () => {
    if (upScroll.getBoundingClientRect().top < 130) {
        upScroll.classList.remove('overflow-hidden')
        upScroll.classList.add('overflow-auto')
    } else {
        upScroll.classList.add('overflow-hidden')
        upScroll.classList.remove('overflow-auto')
    }
};
// PORTFOLIO PAGE

// ACADEMY
profileNextBtn.addEventListener('click', () => {
    changePage(ACADEMY_PAGE)
    profileDropdown.classList.add('hidden')
    footer.classList.remove('hidden')
    navbarText.innerText = 'Academy'
})
lessonCards.forEach(lessonCard => {
    lessonCard.addEventListener('click', () => {
        if (lessonCard.children[1].innerHTML == '<img src="./../../assets/feed/feather_lock.jpg">') {
            lessonCard.children[1].innerHTML = '<img src="./../../assets/feed/check.png">'
        } else {
            lessonCard.children[1].innerHTML = '<img src="./../../assets/feed/feather_lock.jpg">'
        }
    })
})
singleLessonPrevPageBtn.addEventListener('click', () => {
    changePage(lessonPage)
})
lesson2PrevBtn.addEventListener('click', () => {
    changePage(singleLessonPage)
})
playVideo.addEventListener('click', () => {
    if (playVideo.innerHTML === '<img src="./../../assets/feed/video_play.png" class="w-4">') {
        video.play()
        playVideo.parentElement.parentElement.classList.remove('bg-light')
        playVideo.parentElement.parentElement.classList.add('bg-white')
        videoTime.style.width = video.currentTime + '%'
        playVideo.innerHTML = '<img src="./../../assets/feed/pause.png">'
    } else {
        video.pause()
        videoTime.style.width = video.currentTime + '%'
        playVideo.innerHTML = '<img src="./../../assets/feed/video_play.png" class="w-4">'
    }
    video.ontimeupdate = () => {
        videoTime.style.width = video.currentTime + '%'
    }
})

lockBtns.forEach(lockBtn => {
    lockBtn.addEventListener('click', () => {
        if (lockBtn.innerHTML == '<img src="./../../assets/feed/lock_blue.png">') {
            lockBtn.innerHTML = '<img src="./../../assets/feed/tick_icon.png">'
        } else {
            lockBtn.innerHTML = '<img src="./../../assets/feed/lock_blue.png">'
        }
    })
})

academyNextPageBtn.addEventListener('click', () => {
    changePage(lessonPage)
    footer.classList.add('hidden')
    navbar.classList.add('hidden')
})

lessonNextBtn.addEventListener('click', () => {
    changePage(singleLessonPage)
    footer.classList.add('hidden')
    navbar.classList.add('hidden')
})

intrClose.addEventListener('click', () => {
    changePage(FEED_PAGE)
    navbar.classList.remove('hidden')
    footer.classList.remove('hidden')
    navbarText.innerText = 'Feed'
})

singleLessonNextPageBtn.addEventListener('click', () => {
    changePage(singleLesson2)
    navbar.classList.add('hidden')
    footer.classList.add('hidden')
})

closeBtn2.addEventListener('click', () => {
    changePage(singleLessonPage)
    navbar.classList.remove('hidden')
    footer.classList.remove('hidden')
    navbarText.innerText = 'Feed'
})



// ACADEMY


// CHAT
chatBtn.addEventListener('click', () => {
    changePage(chat)
    navbarText.innerText = 'Chat'
    navbar.classList.remove('hidden')
    showPageBtn(chatBtnStyled)
})

amisBtn.addEventListener('click', () => {
    amisPage.classList.remove('hidden')
    amisBtn.className = 'bg-blue-normal font-bold py-1 rounded-full text-white w-1/2'
    groupesBtn.className = 'font-bold text-gray-600 w-1/2'
    groupesPage.classList.add('hidden')
})
groupesBtn.addEventListener('click', () => {
    amisPage.classList.add('hidden')
    groupesBtn.className = 'bg-blue-normal font-bold py-1 rounded-full text-white w-1/2'
    amisBtn.className = 'font-bold text-gray-600 w-1/2'
    groupesPage.classList.remove('hidden')
})
chatNextBtns.forEach(chatNextBtn => {
    chatNextBtn.addEventListener('click', () => {
        changePage(conversation)
        user.innerHTML = `
        <img src="${chatNextBtn.children[0].children[0].src}" class="w-10 h-10 rounded-full">
        <h3 class="font-extrabold ml-4">${chatNextBtn.children[0].children[1].children[0].innerText}</h3>
        `
        footer.classList.add('hidden')
        navbar.classList.add('hidden')
    })

})
conversationPrevBtn.addEventListener('click', () => {
    changePage(chat)
    navbar.classList.remove('hidden')
    footer.classList.remove('hidden')
})

chatForm.addEventListener('submit', (e) => {
    e.preventDefault()
    const newMessadge = document.createElement('div')
    newMessadge.innerHTML = `<div class="flex items-start mt-8">
                    <div class="bg-blue-dark px-4 py-2 rounded-2xl text-white" style="border-top-right-radius: 0;">
                        <div class="flex justify-between">
                            <h3 class="font-bold text-sm">Sam GAMEGIE</h3>
                            <p class="font-semibold text-gray-300 text-xs">${new Date().toLocaleTimeString()}</p>
                        </div>
                        <p class="font-normal mt-1 text-gray-300 w-72 overflow-auto text-sm">${chatForm.children[0].value}</p>
                    </div>
                    <img src="./../../assets/feed/Profile_image.png" class="ml-4">
                </div>`
    messadgeSite.appendChild(newMessadge)
    chatForm[0].value = ''

})

emailbtn.addEventListener('click', () => {
    emailpage.classList.toggle('hidden')
    dollarPage.classList.add('hidden')
})
dollarBtn.addEventListener('click', () => {
    dollarPage.classList.toggle('hidden')
    emailpage.classList.add('hidden')
})



// CHAT

// TRADE
tradeBtn.addEventListener('click', () => {
    changePage(tradeMainPage)
    showPageBtn(tradeBtnStyled)
})



function changeTabBtn(tabBtn, tabPage) {
    hideTabBtnsPages()
    showTabBtnPage(tabBtn, tabPage)
}

function hideTabBtnsPages() {
    tradeTabsBtns.forEach(tradeTabsBtn => {
        tradeTabsBtn.className = 'py-1 w-1/3'
    })
    const tradePages = document.querySelectorAll('.trade-tab')
    tradePages.forEach(tradeTabsBtn => {
        tradeTabsBtn.classList.add('hidden')
    })
}

function showTabBtnPage(tabBtn, tabPage) {
    tabBtn.classList.add('rounded-full', 'bg-blue-normal', 'text-white')
    const currTabPage = document.getElementById(tabPage)
    currTabPage.classList.remove('hidden')
}

tradeAddLiked.addEventListener('click', () => {
    if (tradeAddLiked.src == 'file:///C:/Users/Diyorbek/Documents/GitHub/ss2/src/assets/feed/star.png') {
        tradeAddLiked.src = './../../assets/feed/star_blue.png'
    }
    else {
        tradeAddLiked.src = './../../assets/feed/star.png'
    }
})
tradeAttenteBtn.addEventListener('click', () => {
    changeTabBtn(tradeAttenteBtn, tradeAttentePage)
    fixedBtn.innerText = 'Trader'
})
tradeNewsBtn.addEventListener('click', () => {
    changeTabBtn(tradeNewsBtn, tradeNewsPage)
    fixedBtn.innerText = 'Achester'
})
tradeProposBtn.addEventListener('click', () => {
    changeTabBtn(tradeProposBtn, tradeProposPage)
    fixedBtn.innerText = 'Achester'
})
tradeNextBtn.addEventListener('click', () => {
    changePage(trandingPage)
    footer.classList.add('hidden')
    navbar.classList.add('hidden')
})
tradePageNextBtn.addEventListener('click', () => {
    changePage(sellAsset)
})
tradingPrevBtn.addEventListener('click', () => {
    changePage(tradeMainPage)
    footer.classList.remove('hidden')
    navbar.classList.remove('hidden')
})
sellPrevBtn.addEventListener('click', () => {
    changePage(trandingPage)
})

sellSelectBtn.forEach(sellSelect => {
    sellSelect.addEventListener('click', () => {
        if (sellSelect.classList.contains('bg-light')) {
            sellSelect.classList.remove('bg-light')
        }
        else {
            sellSelect.classList.add('bg-light')
        }
    })
})

sellAssetNextBtn.addEventListener('click', () => {
    changePage(sellAsset2)
})
sellAsset2PrevBtn.addEventListener('click', () => {
    changePage(sellAsset)
})
sellAsset2NextBtn.addEventListener('click', () => {
    changePage(tradeCategoryPage)
    footer.classList.remove('hidden')
    navbar.classList.remove('hidden')
    navbarText.innerText = 'Catagory'
})

const scrollAnimation = document.getElementById('scrollAnimation')
window.addEventListener('scroll', () => {
    scrollAnimation.style.minHeight = '80vh'
    scrollAnimation.style.maxHeight = '81vh'
})

headerCloseBtn.addEventListener('click', () => {
    headerCloseBtn.parentElement.classList.add('hidden')
    setTimeout(() => headerCloseBtn.parentElement.classList.remove('hidden'), 5000)
})

const fondParent = document.getElementById('fondParent')
const applParent = document.getElementById('applParent')
let maxivalue = '50.00 €'

switchBtn.addEventListener('click', () => {
    if (fondBtn.classList.contains('fondBtn')) {
        maxivalue = appleBtn.innerText + 'APPL'
        fondParent.children[2].innerText = 'APPL'
        fondParent.children[0].classList.remove('hidden')
        applParent.children[0].classList.add('hidden')
        applParent.children[2].innerText = '€'
        const fontBtnValue = fondBtn.value
        fondBtn.value = appleBtn.innerText
        appleBtn.innerText = fontBtnValue
        fondBtn.classList.remove('fondBtn')
    }
    else {
        console.log(fondParent)
        fondParent.children[2].innerText = '€'
        fondParent.children[0].classList.add('hidden')
        applParent.children[0].classList.remove('hidden')
        applParent.children[2].innerText = 'APPL'
        const fontBtnValue = fondBtn.value
        fondBtn.value = appleBtn.innerText
        appleBtn.innerText = fontBtnValue
        fondBtn.classList.add('fondBtn')
        maxivalue = fondBtn.value + '€'
    }
})

maxiBtn.addEventListener('click', () => {
    fontResultBtn.innerText = maxivalue
})

btnNums.forEach(btn => {
    btn.addEventListener('click', () => {
        fondBtn.focus()
        fondBtn.value += btn.innerText
    })
})

tradeClearBtn.addEventListener('click', () => {
    fondBtn.focus()
    const last = (fondBtn.value.lastIndexOf(''))
    fondBtn.value = fondBtn.value.slice(0, last - 1)
})

// TRADE

// SUPPORT

supportNextBtn.addEventListener('click', () => {
    changePage(support)
    profileDropdown.classList.add('hidden')
    footer.classList.add('hidden')
    navbar.classList.add('hidden')
})

supportCloseBtn.addEventListener('click', () => {
    changePage(FEED_PAGE)
    showPageBtn(feddBtnStyled)
    navbar.classList.remove('hidden')
    footer.classList.remove('hidden')
})

supportChatNextBtn.addEventListener('click', () => {
    changePage(supportChat)
})
supportChatCloseBtn.addEventListener('click', () => {
    changePage(support)
})

supportChatFrom.addEventListener('submit', (e) => {
    e.preventDefault()
    const newMessadge = document.createElement('div')
    newMessadge.innerHTML = `<div class="flex items-start mt-8">
                    <div class="bg-blue-dark px-4 py-2 rounded-2xl text-white" style="border-top-right-radius: 0;">
                        <div class="flex justify-between">
                            <h3 class="font-bold text-sm">Sam GAMEGIE</h3>
                            <p class="font-semibold text-gray-300 text-xs">${new Date().toLocaleTimeString()}</p>
                        </div>
                        <p class="font-normal mt-1 text-gray-300 w-72 overflow-auto text-sm">${supportChatFrom.children[0].value}</p>
                    </div>
                    <img src="./../../assets/feed/Profile_image.png" class="ml-4">
                </div>`
    messagesSite.appendChild(newMessadge)
    supportChatFrom[0].value = ''
})


ajouterCompeteForm.addEventListener('submit', (e) => {
    e.preventDefault()
    const Data = new FormData(ajouterCompeteForm)
    const value = Object.fromEntries(Data.entries())
    console.log(value)
})
// SUPPORT

// SETTINGS
parametrNextBtn.addEventListener('click', () => {
    changePage(settings)
    footer.classList.add('hidden')
    navbarText.innerText = 'Paramètres'
    rechercherPrevBtn.classList.remove('hidden')
    rechercherPrevBtn.addEventListener('click', () => {
        changePage(FEED_PAGE)
        showPageBtn(feddBtnStyled)
        navbarText.innerText = 'Feed'
        footer.classList.remove('hidden')
        rechercherPrevBtn.classList.add('hidden')
    })
    profileDropdown.classList.add('hidden')
})
// SETTINGS

// HISTORY
historyNextBtn.addEventListener('click', () => {
    changePage(history)
    navbarText.innerText = 'Historique de transactions'
    profileDropdown.classList.add('hidden')
})
orderNextBtn.addEventListener('click', () => {
    changePage(order)
    navbar.classList.add('hidden')
    footer.classList.add('hidden')
})
orderPrevBtn.addEventListener('click', () => {
    changePage(history)
    navbar.classList.remove('hidden')
    footer.classList.remove('hidden')
})
// HISTORY

// CONNECTION
connectionNextBtn.addEventListener('click', () => {
    changePage(connection)
    profileDropdown.classList.add('hidden')
    footer.classList.add('hidden')
    navbar.classList.add('hidden')
})

connectionPrevBtn.addEventListener('click', () => {
    changePage(FEED_PAGE)
    showPageBtn(feddBtnStyled)
    footer.classList.remove('hidden')
    navbar.classList.remove('hidden')
})
reloadBtn.addEventListener('click', () => {
    changePage(loader)
    setTimeout(() => changePage(connection), 5000)
})
// CONNECTION


// DEPOSER
addSmthBtn.forEach(element => {
    element.addEventListener('click', () => {
        element.parentElement.children[0].classList.remove('hidden')
    })
})

deposerNextBtn.addEventListener('click', () => {
    changePage(deposer)
    profileDropdown.classList.add('hidden')
    navbarText.innerText = 'Dépôt/Retrait'
})

ajouterNextBtn.forEach(element => {
    element.addEventListener('click', () => {
        changePage(ajouter)
        card.src = element.children[0].children[0].children[0].src
        navbar.classList.add('hidden')
        footer.classList.add('hidden')
    })
})

ajouterPrevBtn.addEventListener('click', () => {
    changePage(deposer)
    navbar.classList.remove('hidden')
    footer.classList.remove('hidden')
})

ajouterCompeteNextBtn.addEventListener('click', () => {
    changePage(ajouterCompete)
    navbar.classList.add('hidden')
    footer.classList.add('hidden')
})

ajouterCompetePrevBtn.addEventListener('click', () => {
    changePage(ajouter)
})

rewardNextBtn.addEventListener('click', () => {
    changePage(rewardPage)
    navbar.classList.add('hidden')
    footer.classList.add('hidden')
    profileDropdown.classList.add('hidden')
})

rewardCloseBtn.addEventListener('click', () => {
    changePage(FEED_PAGE)
    navbar.classList.remove('hidden')
    footer.classList.remove('hidden')
})

accountCreateNextBtn.addEventListener('click', () => {
    changePage(accountCreate)
    const Data = new FormData(ajouterCompeteForm)
    const value = Object.fromEntries(Data.entries())
    console.log(value)
})

accountPrevBtn.addEventListener('click', () => {
    changePage(ajouterCompete)
})

deposerBtn.addEventListener('click', () => {
    retirerBtn.className = 'font-bold text-gray-600 w-1/2'
    deposerBtn.className = 'bg-blue-normal font-bold py-1 rounded-full text-white w-1/2'
})

retirerBtn.addEventListener('click', () => {
    deposerBtn.className = 'font-bold text-gray-600 w-1/2'
    retirerBtn.className = 'bg-blue-normal font-bold py-1 rounded-full text-white w-1/2'
})

formBtn.addEventListener('click', (e) => {
    e.preventDefault()
    const Data = new FormData(perInf)
    const value = Object.fromEntries(Data.entries());
    console.log(value)
})

perInf.addEventListener('submit', (e) => {
    e.preventDefault()
    const Data = new FormData(perInf)
    const value = Object.fromEntries(Data.entries());
    console.log(value)
})

// DEPOSER


// SWIPER
const swiper = new Swiper('.swiper', {
    // Optional parameters
    loop: true,

    autoplay: {
        delay: 3000
    },
    // If we need pagination
    pagination: {
        el: '.swiper-pagination',
        clickable: true
    },
    scrollbar: false
});


// SWIPER

userProfileBtns.forEach(userProfileBtn => {
    userProfileBtn.addEventListener('click', () => {
        changePage(USER_PROFILE_PAGE)
        showPageBtn(profilBtnStyled)
        navbarText.innerText = 'Profil'
    })
})